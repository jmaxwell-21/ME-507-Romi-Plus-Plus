\doxysection{heading.\+h}
\hypertarget{heading_8h_source}{}\label{heading_8h_source}\index{Inc/heading.h@{Inc/heading.h}}
\mbox{\hyperlink{heading_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ heading.h}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ \ Created\ on:\ Jun\ 8,\ 2025}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ \ \ \ \ \ Author:\ jacka}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#ifndef\ INC\_HEADING\_H\_}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#define\ INC\_HEADING\_H\_}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{command__parser_8h}{command\_parser.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}BNO055\_STM32.h"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{time__utils_8h}{time\_utils.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{extern}\ COMMAND\_PARSER\ \mbox{\hyperlink{heading_8h_a166d58d7e5b485f50b066bb572d4e52d}{parser}};}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{struct_b_n_o055___sensors__t}{BNO055\_Sensors\_t}}\ \mbox{\hyperlink{balance_8h_a7871395ef24115844178e306695a6b39}{BNO055}};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00031\ \textcolor{keyword}{extern}\ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{balance_8h_a59cc8776b62c3d309d2ceafcfbfa504c}{USER}};}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00038\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_h_e_a_d_i_n_g_ae51ead90c2fc2400e9c10b94407b5527}{HEADING}}}
\DoxyCodeLine{00039\ \{}
\DoxyCodeLine{00040\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_h_e_a_d_i_n_g_af05af8db66011f818153ffa2a0e9813f}{state}}}
\DoxyCodeLine{00046\ \ \ \ \ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_e_a_d_i_n_g_af05af8db66011f818153ffa2a0e9813fa007a9d86a86b1a3c8c4fbcf745cb03c4}{S0\_INIT}},\ \ }
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_e_a_d_i_n_g_af05af8db66011f818153ffa2a0e9813fa0c4f3d2f19ad317deac8074a703099a6}{S1\_IDLE}},\ \ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_e_a_d_i_n_g_af05af8db66011f818153ffa2a0e9813fa2e255ab022614000f50043c66d66fc2d}{S2\_RUN}}\ \ \ \ }
\DoxyCodeLine{00050\ \ \ \ \ \}\ state\_t;}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00055\ \ \ \ \ \mbox{\hyperlink{class_h_e_a_d_i_n_g_ae51ead90c2fc2400e9c10b94407b5527}{HEADING}}();}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00061\ \ \ \ \ int32\_t\ \mbox{\hyperlink{class_h_e_a_d_i_n_g_ac37b75761fe40f32a9ad087f85b7bdd1}{get\_M1\_eff}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00067\ \ \ \ \ int32\_t\ \mbox{\hyperlink{class_h_e_a_d_i_n_g_ac55a9115b5a6cb711527a250091aac63}{get\_M2\_eff}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_h_e_a_d_i_n_g_a2022de6590885f98986a7fbd101a15b4}{run}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00075\ \ \ \ \ state\_t\ \mbox{\hyperlink{class_h_e_a_d_i_n_g_af05af8db66011f818153ffa2a0e9813f}{state}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ int16\_t\ angle;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00078\ \ \ \ \ int16\_t\ prev\_angle;\ \ \ }
\DoxyCodeLine{00079\ \ \ \ \ int32\_t\ headset;\ \ \ \ \ \ }
\DoxyCodeLine{00080\ \ \ \ \ int32\_t\ position;\ \ \ \ \ }
\DoxyCodeLine{00081\ \ \ \ \ int16\_t\ delta;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ int32\_t\ M1\_eff;\ \ \ \ \ \ \ }
\DoxyCodeLine{00084\ \ \ \ \ int32\_t\ M2\_eff;\ \ \ \ \ \ \ }
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{comment}{//\ PID\ controller\ parameters}}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordtype}{float}\ Kp;\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordtype}{float}\ Ki;\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{float}\ Kd;\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ int32\_t\ error;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00092\ \ \ \ \ int32\_t\ prev\_error;\ \ \ }
\DoxyCodeLine{00093\ \ \ \ \ int32\_t\ error\_diff;\ \ \ }
\DoxyCodeLine{00094\ \ \ \ \ int32\_t\ error\_sum;\ \ \ \ }
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ int16\_t\ ctrl;\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00097\ \ \ \ \ uint32\_t\ dt;\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00098\ \ \ \ \ uint32\_t\ now;\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00099\ \ \ \ \ uint32\_t\ last\_time;\ \ \ }
\DoxyCodeLine{00100\ \};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ INC\_HEADING\_H\_\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
